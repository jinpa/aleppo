# Railway sets NODE_ENV=production which can cause npm to skip optional platform
# binaries (the @tailwindcss/oxide native binding). NPM_CONFIG_PRODUCTION=false
# overrides this at the config level. npm ci guarantees a clean install from the
# lockfile (which already contains @tailwindcss/oxide-linux-x64-gnu), eliminating
# any Docker layer caching issues with a stale node_modules.
[variables]
NPM_CONFIG_PRODUCTION = "false"

[phases.install]
cmds = ["npm ci --include=dev --include=optional"]
